<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PerspectiveLens</title>
    <link rel="stylesheet" href="popup.css">
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M12 4 L12 20 M4 12 L20 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <h1>PerspectiveLens</h1>
        </div>
        <div class="version">v1.0</div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="content">
      <!-- AI Models Section -->
      <section class="section">
        <div class="section-header">
          <h2>AI Models</h2>
          <button id="refresh-status" class="icon-btn" title="Refresh status">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C9.84339 2 11.4782 2.91107 12.5 4.29297" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M12 1L12 4L9 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <div class="status-card" id="ai-status-card">
          <div class="status-info">
            <div class="status-label">Gemini Nano</div>
            <div class="status-value" id="models-status">
              <span class="spinner"></span>
              <span>Checking...</span>
            </div>
          </div>

          <!-- Progress Bar (hidden by default) -->
          <div class="progress-container" id="download-progress" style="display: none;">
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
            <div class="progress-text">
              <span id="progress-percent">0%</span>
              <span id="progress-size">0 MB / 22 GB</span>
            </div>
          </div>

          <!-- Download Button (hidden by default) -->
          <button id="download-model" class="btn-primary" style="display: none;">
            Download AI Model
          </button>
        </div>
      </section>



      <!-- Statistics Section -->
      <section class="section">
        <div class="section-header">
          <h2>Statistics</h2>
        </div>

        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value" id="articles-analyzed">0</div>
            <div class="stat-label">Articles Analyzed</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="cache-count">0</div>
            <div class="stat-label">Cached Results</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="perspectives-found">0</div>
            <div class="stat-label">Perspectives Found</div>
          </div>
        </div>
      </section>

      <!-- Actions Section -->
      <section class="section">
        <div class="action-buttons">
          <button id="clear-cache" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M2 4h12M5.5 4V3a1 1 0 011-1h3a1 1 0 011 1v1m1.5 0v9a1 1 0 01-1 1h-7a1 1 0 01-1-1V4h9z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            Clear Cache
          </button>
          <button id="open-settings" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 10a2 2 0 100-4 2 2 0 000 4z" stroke="currentColor" stroke-width="1.5"/>
              <path d="M13.2 8.8c0-.2.1-.5.1-.8 0-.3 0-.5-.1-.8l1.6-1.2c.1-.1.2-.3.1-.5l-1.5-2.6c-.1-.2-.3-.2-.5-.2l-1.9.8c-.4-.3-.8-.5-1.3-.7l-.3-2c0-.2-.2-.4-.4-.4h-3c-.2 0-.4.2-.4.4l-.3 2c-.5.2-.9.4-1.3.7l-1.9-.8c-.2-.1-.4 0-.5.2L.9 5.5c-.1.2 0 .4.1.5l1.6 1.2c0 .2-.1.5-.1.8 0 .3 0 .5.1.8L.9 10c-.1.1-.2.3-.1.5l1.5 2.6c.1.2.3.2.5.2l1.9-.8c.4.3.8.5 1.3.7l.3 2c0 .2.2.4.4.4h3c.2 0 .4-.2.4-.4l.3-2c.5-.2.9-.4 1.3-.7l1.9.8c.2.1.4 0 .5-.2l1.5-2.6c.1-.2 0-.4-.1-.5l-1.6-1.2z" stroke="currentColor" stroke-width="1.5"/>
            </svg>
            Settings
          </button>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-links">
        <a href="https://github.com/yourusername/PerspectiveLens" target="_blank" class="footer-link">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
          </svg>
          GitHub
        </a>
        <a href="#" id="help-link" class="footer-link">Help</a>
        <a href="#" id="about-link" class="footer-link">About</a>
      </div>
    </footer>

    <script src="popup.js" type="module"></script>
  </body>
</html>
